###
# This file was generated by docker-etl/ci_config.py.
# Changes should be made to job ci_job.yaml files and re-generated.
###

name: desktop-mobile-mau-2020

on:
  push:
    branches:
      - '**'
    paths:
      - 'jobs/desktop-mobile-mau-2020/**'
      - '.github/workflows/job-desktop-mobile-mau-2020.yml'
  pull_request:
    paths:
      - 'jobs/desktop-mobile-mau-2020/**'
      - '.github/workflows/job-desktop-mobile-mau-2020.yml'

jobs:
  build-job-desktop-mobile-mau-2020:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6
      - name: Build the Docker image
        # yamllint disable
        run: |
          docker build jobs/desktop-mobile-mau-2020 -t us-docker.pkg.dev/moz-fx-data-artifacts-prod/docker-etl/desktop-mobile-mau-2020:latest
        # yamllint enable
      - name: Test Code
        run: docker run us-docker.pkg.dev/moz-fx-data-artifacts-prod/docker-etl/desktop-mobile-mau-2020:latest pytest --flake8 --black
